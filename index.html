<!DOCTYPE html>
<html lang="fr" class=""><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta charset="utf-8">
        <title>Developers Forum - Docker for OpenMRS</title>
        <meta name="description" content="Presentation for OpenMRS developers forum about Docker">
        <meta name="author" content="Alexis DUQUE">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <link rel="stylesheet" href="css/reveal.css">
        <link rel="stylesheet" href="css/openmrs.css" id="theme">
        <!-- For syntax highlighting -->
        <link rel="stylesheet" href="lib/css/zenburn.css">
        <!-- If the query includes 'print-pdf', use the PDF print sheet -->
        <script>
            document.write( '<link rel="stylesheet" href="css/' + ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">' );
        </script><style type="text/css"></style><link rel="stylesheet" href="css/paper.css" type="text/css" media="print">
        <!--[if lt IE 9]>
        <script src="lib/js/html5shiv.js"></script>
        <![endif]-->
    <style type="text/css">.fancybox-margin{margin-right:0px;}</style></head>
    <body cz-shortcut-listen="true" data-gclp-initialized="true" data-gistbox-initialized="true" style="transition: -webkit-transform 0.8s ease; -webkit-transition: -webkit-transform 0.8s ease;">
    <div class="reveal default center" data-transition-speed="default">
        <!-- Any section element inside of this container is displayed as a slide -->
    <div class="slides" style="width: 960px; height: 700px; zoom: 0.8292857142857143;">
<!--
=========================================================================================================================================================
=========================================================================================================================================================
   Introduction
=========================================================================================================================================================
=========================================================================================================================================================
-->
        <!-- SLIDE 0 -->
        <section class="present" style="top: -197.5px; display: block;">
            <section style="top: -280px; display: block;" class="">
                <h1 class="openmrs-title">Docker for OpenMRS</h1>
                <h3>Developers Forum</h3>
                <img height="200px" src="images/logo.svg" alt="OpenMRS"></p>
                <p>
                    <small>August, 28st 2014 / <a href="http://alexisduque.github.io" class="roll"><span data-title="irc:alexis_d">Alexis DUQUE</span></a> / <a href="mailto:alexisd61@gmail.com" class="roll"><span data-title="irc:alexis_d">alexisd61@gmail.com</span></a></small>
                </p>
            </section>
            <section style="top: -280px; display: block;" class="">
                <h2>OpenMRS Atlas</h2>
                <h4><a href="https://atlas.openmrs.org">atlas.openmrs.org</a></h4>
                <ul>
                    <li>Anyone in the community can register a marker using his ID</li>
                    <li>Implementations can automate marker update with the module</li>
                </ul>
                <a href="https://atlas.openmrs.org"><img height="300px" src="images/atlas.png" alt="logo docker" style="margin-right:20px"></a>
            </section>
            <section style="top: -280px; display: block;" class="">
                    <h3>From ...</h3>
                    <br>
                    <img height="100px" src="images/phplogo.png" alt="logo docker" style="margin-right:20px">
                    <img height="100px" src="images/mysql.png" alt="logo docker" style="margin-right:20px">
                    <img width="250px" src="images/feather.gif" alt="logo docker" style="margin-right:20px">
                    <p><br></p>
                    <p>openmrs.org/atlas</p>
            </section>
            <section style="top: -80px; display: block;" class="">
                <a href="http://atlas.openmrs.org"><h3>To ...</h3></a>
                <p>
                    <img height="100px" src="images/phantomjs.png" alt="logo docker" style="margin-right:30px">
                    <img width="300px" src="images/openmrsid.png" alt="logo docker" style="margin-right:30px">
                    <img height="150px" src="images/composer.png" alt="logo docker" style="margin-right:30px">
                    <img height="120px" src="images/laravel.png" alt="logo docker" style="margin-right:30px">
                <p>
                    <img height="100px" src="images/phplogo.png" alt="logo docker" style="margin-right:30px">
                    <img height="100px" src="images/mysql.png" alt="logo docker" style="margin-right:30px">
                    <img width="250px" src="images/feather.gif" alt="logo docker" style="margin-right:30px">
                </p>
                <p><br></p>
                <p>atlas.openmrs.org</p>
                <br>
            </section>
        </section>
        <!--./SLIDE 0 -->

<!--
=========================================================================================================================================================
=========================================================================================================================================================
   Presentation
=========================================================================================================================================================
=========================================================================================================================================================
-->
        <!-- SLIDE 1/X -->
	    <section class="stack future" data-previous-indexv="0" style="top: 0px; display: block;">
			<section style="top: -280px; display: block;" class="">
				<h1>Docker.io</h1>
				<img height="400px" src="images/logo-docker.png" alt="logo docker">
			</section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Why Docker ?</h2>
                <br>
                <ul>
                    <li>Find a way to easier deploy OpenMRS Atlas</li>
                    <li>Develop and hack Atlas everywhere</li>
                    <li>Easily distribute, share and get new contributors</li>
                    <li>Quicly test Atlas module accross different OpenMRS version</li>
                </ul>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker in few words</h2>
                <br>
                <ul>
                    <li>Develop, Ship an Run application</li>
                    <li>LXC Technology : unix isolation</li>
                    <li>Lighter than VM - Faster start</li>
                </ul>
            </section>
			<section style="top: -269.5px; display: block;" class="future">
				<h2>Docker Components</h2>
				<br>
                <h3>Docker Engine</h3>
				<p>Daemon, CLI, Local Index</p>
                <br>
				<a href="https://registry.hub.docker.com/u/openmrs"><h3> Docker Hub</h3> </a>
                <p>Image repository, Automated Builds, Versionning, Hooks.</p>
				</ul>
			</section>
            <section style="top: -280px; display: block;" class="">
                <h2>Requirements and Installation</h2>
                <p><a href="https://docs.docker.com/installation/#installation">https://docs.docker.com/installation/#installation</a><p>
                <p>Require Linux-specific features, but solution for others !</p>
                <br>
                <p> Lucky Ubuntu Users</p>
                <p><pre><code>curl -sSL https://get.docker.io/ubuntu/ | sudo sh</code></pre></p>
                <p> Windows/MacOS Users</p>
                <p><a href="https://github.com/boot2docker/boot2docker">Boot2Docker</a><p>
            </section>
	    </section>
        <!--./SLIDE 1/X -->
<!--
=========================================================================================================================================================
=========================================================================================================================================================
   Docker Basics
=========================================================================================================================================================
=========================================================================================================================================================
-->
        <!-- SLIDE 2/X -->
        <section class="stack future" data-previous-indexv="0" style="top: 0px; display: block;">
            <section style="top: -269.5px; display: block;" class="future">
                <h1>Docker Basics</h1>
                <h3>Work with images and containers</h3>
                <p><img height="480px" src="images/ContainerImage.png" alt="OpenMRS"></p>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Pull</h2>
                <h3>Pull your first OpenMRS image</h3>
                <p><pre><code>docker pull openmrs/atlas:2.0-dev</code></pre></p>
                <p>Clone <i>dev</i> image from openmrs/atlas repo to your local repository</p>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Run</h2>
                <h3>Create and run a container using an image</h3>
                <p><pre><code>                 docker run [params] openmrs/atlas:2.0-dev</code></pre></p>
                <p>Lot of parameters - 3 modes :</p>
                <ul>
                    <li><i>Background</i></li>
                    <li><i>Foreground</i> (default) : attach stdout/err</li>
                    <li><i>Interactive</i> : attach stdin</li>
                </ul>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Run - Port</h2>
                <h3>Port forwarding with the host</h3>
                <p><pre><code>    docker run -P [host_port:container_port] openmrs/atlas:2.0-dev</code></pre></p>
                <p><i>Example : 8080 container port to 80 host port</i></p>
                <p><pre><code>    docker run -P 80:8080 openmrs/atlas:2.0-dev</code></pre></p>
                <p>80 host port shouldn't be used !</p>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Run - Volume</h2>
                <h3>Shared host folder with the container</h3>
                <p><pre><code>    docker run -v [host_folder:container_folder] openmrs/atlas:2.0-dev</code></pre></p>
                <p><i>Example : mount /opt/dev to /opt in the container</i></p>
                <p><pre><code>    docker run -v /opt/dev:/opt openmrs/atlas:2.0-dev</code></pre></p>
                <p>Absolute path is required !</p>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Run - Env variables</h2>
                <h3>Define container environement variable</h3>
                <br>
                <p><pre><code>   docker run -e VAR_NAME=value  -e VAR_NAME2=value2 openmrs/atlas:2.0-dev</code></pre></p>
                <br>
                <p>Example : define HOST_IP in the container<p>
                <p><pre><code>   docker run -e HOST_IP=127.0.0.1 openmrs/atlas:2.0-dev</code></pre></p>
                <br>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Run - Others</h2>
                <h3>Others userfull parameters</h3>
                <p><i>Define hostname inside the container</i></p>
                <p><pre><code>      docker run -h [hostname] openmrs/atlas:2.0-dev</code></pre></p>
                <p><i>Define container name (~ container id)</i></p>
                <p><pre><code>      docker run --name [container_name] openmrs/atlas:2.0-dev</code></pre></p>
            </section>
             <section style="top: -269.5px; display: block;" class="future">
                <h2>Docker Run - Stop/Start</h2>
                <h3>Start and Stop a container (!= RUN )</h3>
                <p><i>Start a container from your local registry </i></p>
                <p><pre><code>     docker start [container_name] | ex: docker start atlas</code></pre></p>
                <p><i>Stop a running container</i></p>
                <p><pre><code>     docker stop [container_name] | ex: docker stop atlas</code></pre></p>
            </section>
            <section style="top: -269.5px; display: block;" class="future">
                <h2>Clean UP :-)</h2>
                <h3>Remove useless containers or images</h3>
                <p><i>Delete a single container or image (-f to force) </i></p>
                <p><pre><code>     docker rm -f [container_name] | ex: docker rm atlas </code></pre></p>
                <p><pre><code>     docker rmi [image_name] | ex: docker rmi openmrs/atlas:2.0-dev</code></pre></p>
                <p><i>Clean all containers and untagged images</i></p>
                <p><pre><code>     docker rm `docker ps --no-trunc -aq` </code></pre></p>
                <p><pre><code>     docker rmi $(sudo docker images -f "dangling=true" -q)</code></pre></p>
            </section>
        </section>
        <!--./SLIDE 1/X -->
<!--
=========================================================================================================================================================
=========================================================================================================================================================
   Demo
=========================================================================================================================================================
=========================================================================================================================================================
-->
        <!-- SLIDE 3 -->
        <section class="present" style="top: -197.5px; display: block;">
            <h1 class="openmrs-title">Get started !</h1>
            <h3><a href="http://alexisduque.github.io/blog/2014/08/10/docker-for-developers/">HACK OpenMRS Atlas with Docker</a></h3>
            <p><img height="450px" src="images/atlas.png" alt="OpenMRS Atlas"></p>
        </section>
        <!--./SLIDE 0 -->
<!--
=========================================================================================================================================================
=========================================================================================================================================================
   Demo
=========================================================================================================================================================
=========================================================================================================================================================
-->
        <!-- SLIDE 3 -->
        <section class="present" style="top: -197.5px; display: block;">
            <h1 class="openmrs-title">What's Next ?</h1>
            <br>
            <h3>Create an image using a Dockerfile</h3>
            <p><pre><code>         docker built -t [image_name] path_to_dockerfile </code></pre></p>
            <br>
            <h3>Use Docker for production</h3>
        </section>
        <!--./SLIDE 0 -->

<!--
=========================================================================================================================================================
=========================================================================================================================================================
    Questions ?
=========================================================================================================================================================
=========================================================================================================================================================
-->
        <section class="future" style="top: -198px; display: block;">
            <h1>QUESTIONS ?</h1>
            <h3>Developers Forum</h3>
            <p><img height="200px" src="images/logo-docker-openmrs.png" alt="OpenMRS"></p>
             <p>
                <small>August, 28st 2014 / <a href="http://alexisduque.github.com" class="roll"><span data-title="irc:alexis_d">Alexis DUQUE</span></a> / <a href="mailto:alexisd61@gmail.com" class="roll"><span data-title="irc:alexis_d">alexisd61@gmail.com</span></a></small>
            </p>
            <p><small><a href="http://alexisduque.github.com/docker-presentation" class="roll"><span data-title="http://alexisduque.github.com/docker-presentation">http://alexisduque.github.com/docker-presentation</span></a></small></p>
        </section>

        <section class="future" style="top: -198px; display: block;">
            <h1>LEARN MORE</h1>
            <br>
            <p><a href="https://docs.docker.com/userguide/">Docker offical user guide</a></p>
            <p><a href="https://blog.docker.com/">Docker blog</a></p>
            <p><a href="http://www.meetup.com/Docker-Online-Meetup/">Docker Meetup and Webcast</a></p>
            <p><a href="http://stackoverflow.com/search?q=docker">Stackoverflow</a></p>
        </section>

	</div>
    <div class="progress" style="display: block;"><span style="width: 0px;"></span></div><aside class="controls" style="display: block;"><div class="navigate-left"></div><div class="navigate-right enabled"></div><div class="navigate-up"></div><div class="navigate-down"></div></aside><div class="state-background"></div><div class="pause-overlay"></div></div>

    <ul class="watermark">
        <li style="line-height:100px;vertical-align:bottom"><img height="70" src="images/OMRSAtlas.svg" alt="OpenMRS"></li>
        <li><img height="70" src="images/docker.png" alt="Docker"></li>
    </ul>

    <script src="js/head.min.js"></script>
    <script src="js/reveal.min.js"></script>
    <script>
        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            theme: Reveal.getQueryHash().theme, // available themes are in /css/theme
            transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/none
            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
                { src: 'plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } }
            ]
        });
    </script><script type="text/javascript" src="js/highlight.js"></script><script type="text/javascript" src="js/zoom.js"></script><script type="text/javascript" src="js/notes.js"></script>
    

<form id="gclp-frame-form" target="gclp-frame" method="post" style="display: none;"></form></body></html>